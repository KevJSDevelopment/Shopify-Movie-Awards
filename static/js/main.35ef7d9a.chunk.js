(this["webpackJsonpfrontend-shoppies"]=this["webpackJsonpfrontend-shoppies"]||[]).push([[0],{93:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(0),r=n(10),o=n.n(r),c=n(54),s=n(23),l=n.n(s),d=n(36),m=n(12),u=n(128),h=n(122),j=n(131),b=n(135),p=n(18),x=n(125),g=n(127),O=n(136),f=n(132),v=Object(h.a)((function(e){return{item:{marginLeft:"1%",marginRight:"1%"},paper:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.contrastText,padding:"1%"},button:{float:"right",color:e.palette.secondary.contrastText},card:{zIndex:2,width:"50%",float:"right"},title:{overflowX:"auto"}}})),y=function(e){var t=Object(i.useState)(!1),n=Object(m.a)(t,2),r=n[0],o=n[1],c=Object(i.useState)(!1),s=Object(m.a)(c,2),l=s[0],d=s[1],h=v();return Object(a.jsx)(x.a,{item:!0,xs:12,className:h.item,children:Object(a.jsx)(g.a,Object(p.a)(Object(p.a)({in:!0,direction:"up"},{timeout:100*(e.index+5)}),{},{children:Object(a.jsxs)(u.a,{id:"movie-paper-".concat(e.index),className:h.paper,elevation:r?20:3,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[Object(a.jsx)(O.a,{title:"".concat(e.movie.Title," (").concat(e.handleYear(e.movie.Year),")"),arrow:!0,placement:"top",children:Object(a.jsxs)(j.a,{variant:"overline",className:h.title,children:[e.movie.Title.length>45?e.handleMovieTitle(e.movie.Title,45):e.movie.Title," (",e.handleYear(e.movie.Year),")"]})}),Object(a.jsx)(f.a,{variant:"contained",size:"small",disabled:e.listFull||e.movie.selected||l,className:h.button,color:"primary",onClick:function(){return e.handleNominated(e.movie),void d(!0)},children:"Nominate"})]})}))})},T=Object(h.a)((function(e){return{item:{marginLeft:"1%",marginRight:"1%"},button:{float:"right",color:e.palette.secondary.contrastText},paper:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.contrastText,padding:"1%"}}})),N=function(e){var t=Object(i.useState)(!1),n=Object(m.a)(t,2),r=n[0],o=n[1],c=T();return Object(a.jsx)(x.a,{item:!0,xs:12,className:c.item,children:Object(a.jsx)(g.a,Object(p.a)(Object(p.a)({in:!0,direction:"up"},{timeout:100*(e.index+5)}),{},{children:Object(a.jsxs)(u.a,{id:"nomination-paper-".concat(e.index),className:c.paper,elevation:r?20:3,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[Object(a.jsx)(O.a,{title:"".concat(e.nomination.Title," (").concat(e.handleYear(e.nomination.Year),")"),arrow:!0,placement:"top",children:Object(a.jsxs)(j.a,{variant:"overline",style:{overflowX:!0},children:[e.nomination.Title.length>40?e.handleMovieTitle(e.nomination.Title):e.nomination.Title," (",e.handleYear(e.nomination.Year),")"]})}),e.submitted?Object(a.jsx)(f.a,{variant:"outlined",disabled:!0,size:"small",className:c.button,children:"Remove"}):Object(a.jsx)(f.a,{variant:"contained",size:"small",className:c.button,color:"secondary",onClick:function(){return e.handleRemoved(e.index)},children:"Remove"})]})}))})},w=n(134),k=n(130),Y=Object(h.a)((function(e){return{search:{marginRight:"10%",marginLeft:"10%",backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},movieContainer:{marginLeft:"5%"},gridItems:{width:"100%"},text:{textAlign:"center"},submit:{width:"94%",margin:"3%"},results:{width:"25%",margin:"3%",borderRadius:"5px 50px 50px 5px",float:"right",color:e.palette.secondary.contrastText},paper:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,maxHeight:.8*window.innerHeight,overflowY:"auto"},label:{color:e.palette.secondary.contrastText},input:{color:e.palette.secondary.contrastText}}})),M=function(e){var t=Y();return Object(a.jsx)(g.a,{in:!e.transitioning,direction:"right",timeout:{exit:2e3,enter:0},children:Object(a.jsxs)(x.a,{container:!0,direction:"column",alignItems:"center",spacing:3,children:[Object(a.jsx)(x.a,{item:!0,xs:12,className:t.gridItems,children:Object(a.jsx)(u.a,{elevation:3,className:t.search,children:Object(a.jsx)(w.a,{id:"outlined-search",fullWidth:!0,InputLabelProps:{className:t.label},InputProps:{className:t.input},label:"Search Movies",type:"search",autoComplete:"off",variant:"standard",onChange:function(t){return function(t){e.fetchMovies(""),e.fetchMovies(t.target.value)}(t)}})})}),Object(a.jsx)(x.a,{item:!0,xs:12,className:t.gridItems,children:Object(a.jsxs)(x.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(x.a,{item:!0,xs:5,className:t.movieContainer,children:Object(a.jsx)(u.a,{elevation:3,className:t.paper,children:Object(a.jsxs)(x.a,{container:!0,direction:"column",children:[Object(a.jsx)(x.a,{item:!0,xs:12,className:t.text,children:Object(a.jsx)(j.a,{variant:"overline",children:"Movies"})}),e.movies!==[]?e.movies.map((function(t,n){return Object(a.jsx)(y,{movie:t,nominations:e.nominations,listFull:e.listFull,handleMovieTitle:e.handleMovieTitle,handleYear:e.handleYear,handleNominated:e.handleNominated,index:n},n)})):null]})})}),Object(a.jsx)(x.a,{item:!0,xs:1}),Object(a.jsxs)(x.a,{item:!0,xs:5,className:t.nominationContainer,children:[Object(a.jsx)(u.a,{elevation:3,className:t.paper,children:Object(a.jsxs)(x.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(x.a,{item:!0,xs:12,className:t.text,children:Object(a.jsx)(j.a,{variant:"overline",children:"Your Nominated Movies"})}),e.nominations!==[]?e.nominations.map((function(t,n){return Object(a.jsx)(N,{nomination:t,submitted:e.submitted,handleMovieTitle:e.handleMovieTitle,handleYear:e.handleYear,handleRemoved:e.handleRemoved,index:n},n)})):null,e.listFull?Object(a.jsx)(k.a,{in:e.listFull,timeout:3e3,children:e.submitted?Object(a.jsx)(f.a,{variant:"contained",className:t.submit,disabled:!0,size:"small",children:"Submit Nominations"}):Object(a.jsx)(f.a,{onClick:function(){return e.handleNominate()},color:"primary",variant:"contained",className:t.submit,size:"small",children:"Submit Nominations"})}):null]})}),Object(a.jsx)(k.a,{in:e.submitted,timeout:1e3,className:t.results,children:Object(a.jsx)(f.a,{onClick:function(){return e.setResultsPage(!0)},color:"primary",variant:"contained",size:"small",children:"See Results"})})]})]})})]})})},C=n(20),S=Object(h.a)((function(e){return{first:{marginLeft:"2%",marginRight:"2%",backgroundColor:"#ffd700",color:e.palette.secondary.contrastText,padding:"5px",width:"95%"},second:{marginLeft:"4%",marginRight:"4%",backgroundColor:"#bec2cb",color:e.palette.secondary.contrastText,padding:"5px",width:"90%"},third:{marginLeft:"6%",marginRight:"6%",backgroundColor:"#cd7f32",color:e.palette.secondary.contrastText,padding:"5px",width:"85%"},item:{width:"80%",marginLeft:"8%",marginRight:"8%",padding:"5px",backgroundColor:e.palette.secondary.light,color:e.palette.secondary.contrastText}}})),R=function(e){var t=Object(i.useState)(!1),n=Object(m.a)(t,2),r=n[0],o=n[1],c=S(),s=Object(C.a)(),l=function(){switch(e.index){case 0:return 40;case 1:return 35;case 2:default:return 30}};return Object(i.useEffect)((function(){e.nominations.forEach((function(t){t.Title===e.nomination.title&&o(!0)}))}),[]),Object(a.jsx)(x.a,{item:!0,xs:12,children:Object(a.jsx)(k.a,Object(p.a)(Object(p.a)({in:!0},{timeout:300*(e.index+5)}),{},{children:Object(a.jsx)(u.a,{id:"nomination-paper-".concat(e.index),className:function(){switch(e.index){case 0:return c.first;case 1:return c.second;case 2:return c.third;default:return c.item}}(),style:{border:r?"3px solid ".concat(s.palette.primary.light):"0"},elevation:3,children:Object(a.jsx)(O.a,{title:"".concat(e.nomination.title," (").concat(e.handleYear(e.nomination.year),")"),arrow:!0,placement:"top",children:Object(a.jsxs)(j.a,{variant:"overline",children:[e.nomination.title.length>l()?e.handleMovieTitle(e.nomination.title,l()):e.nomination.title," (",e.handleYear(e.nomination.year),"): Nominations - ",e.nomination.total]})})})}))})},F=Object(h.a)((function(e){return{list:{overflowY:"auto",maxHeight:.7*window.innerHeight,padding:"1%",backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},title:{textAlign:"center"}}})),I=function(e){var t=Object(i.useState)([]),n=Object(m.a)(t,2),r=n[0],o=n[1],c=F(),s=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pure-everglades-87354.herokuapp.com",e.next=3,fetch("".concat("https://pure-everglades-87354.herokuapp.com","/nominations"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,o(n.nominations);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){s()}),[]),Object(a.jsx)(u.a,{variant:"elevation",elevation:3,className:c.list,children:Object(a.jsxs)(x.a,{container:!0,direction:"column",children:[Object(a.jsx)(x.a,{item:!0,xs:12,className:c.title,children:Object(a.jsx)(j.a,{variant:"overline",children:Object(a.jsx)("u",{children:"All Nominations"})})}),r!==[]?r.map((function(t,n){return Object(a.jsx)(R,{nomination:t,nominations:e.nominations,handleYear:e.handleYear,handleMovieTitle:e.handleMovieTitle,index:n},n)})):null]})})},L=Object(h.a)((function(e){return{item:{margin:"2%"},paper:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.light,border:"3px solid ".concat(e.palette.primary.light)}}})),E=function(e){var t=Object(i.useState)(!1),n=Object(m.a)(t,2),r=n[0],o=n[1],c=L();return Object(a.jsx)(x.a,{item:!0,xs:12,className:c.item,children:Object(a.jsx)(g.a,Object(p.a)(Object(p.a)({in:!0,direction:"up"},{timeout:100*(e.index+5)}),{},{children:Object(a.jsx)(u.a,{id:"nomination-paper-".concat(e.index),className:c.paper,elevation:r?20:3,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:Object(a.jsx)(O.a,{title:"".concat(e.nomination.Title," (").concat(e.handleYear(e.nomination.Year),")"),arrow:!0,placement:"top",children:Object(a.jsxs)(j.a,{variant:"overline",style:{overflowX:!0},children:[e.nomination.Title.length>50?e.handleMovieTitle(e.nomination.Title,50):e.nomination.Title," (",e.handleYear(e.nomination.Year),")"]})})})}))})},A=Object(h.a)((function(e){return{title:{textAlign:"center",backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText}}})),z=function(e){var t=A();return Object(a.jsx)(u.a,{elevation:3,className:t.title,children:Object(a.jsxs)(x.a,{container:!0,direction:"column",children:[Object(a.jsx)(x.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{variant:"overline",children:Object(a.jsx)("u",{children:"My Nominations"})})}),e.nominations.map((function(t,n){return Object(a.jsx)(E,{handleYear:e.handleYear,handleMovieTitle:e.handleMovieTitle,nomination:t,index:n},n)}))]})})},P=Object(h.a)((function(e){return{mainContainer:{marginLeft:"1%"},results:{textAlign:"center",marginLeft:"45%",marginRight:"45%",marginBottom:"2%",backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},back:{borderRadius:"25px 5px 5px 25px",marginLeft:"5%",color:e.palette.secondary.contrastText}}})),H=function(e){var t=P();return Object(a.jsx)(k.a,{in:e.submitted,direction:"left",timeout:{enter:1e3},children:Object(a.jsxs)(x.a,{container:!0,direction:"column",alignItems:"center",className:t.mainContainer,children:[Object(a.jsxs)(x.a,{item:!0,xs:12,children:[Object(a.jsx)(f.a,{variant:"contained",color:"primary",size:"small",className:t.back,onClick:function(){return e.setResultsPage(!1),void e.setTransitioning(!1)},children:"Back to search"}),Object(a.jsx)(k.a,{in:e.submitted,timeout:{enter:2e3},children:Object(a.jsx)(u.a,{elevation:3,className:t.results,children:Object(a.jsx)(j.a,{variant:"overline",children:"Results"})})})]}),Object(a.jsx)(x.a,{item:!0,xs:12,children:Object(a.jsxs)(x.a,{container:!0,direction:"row",spacing:3,children:[Object(a.jsx)(x.a,{item:!0,xs:1}),Object(a.jsx)(x.a,{item:!0,xs:5,children:Object(a.jsx)(k.a,{in:e.submitted,timeout:4e3,children:Object(a.jsx)(I,{handleYear:e.handleYear,nominations:e.nominations,handleMovieTitle:e.handleMovieTitle})})}),Object(a.jsx)(x.a,{item:!0,xs:5,children:Object(a.jsx)(k.a,{in:e.submitted,timeout:5e3,children:Object(a.jsx)(z,{handleYear:e.handleYear,handleMovieTitle:e.handleMovieTitle,nominations:e.nominations})})})]})})]})})},B=n(71),J=n(133),X=n(70),q=n.n(X),W=n(69),D=n.n(W),G=Object(h.a)((function(e){return{reset:{margin:"1%"},note:{color:e.palette.secondary.contrastText},button:{color:e.palette.secondary.contrastText}}})),K=function(e){var t=G();return Object(a.jsx)(k.a,{in:e.submitted,timeout:{enter:2e3},children:Object(a.jsxs)(x.a,{container:!0,direction:"column",alignItems:"center",className:t.reset,children:[Object(a.jsx)(x.a,{item:!0,xs:12,children:Object(a.jsx)(f.a,{variant:"contained",className:t.button,size:"small",color:"primary",onClick:function(){return e.reset()},children:"Nominate Again?"})}),Object(a.jsx)(x.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{className:t.note,variant:"overline",children:"(testing purposes, would be removed in production)"})})]})})},Q=Object(B.a)({palette:{primary:{light:"#bef67a",main:"#8bc34a",dark:"#5a9216",contrastText:"#222222"},secondary:{light:"#888888",main:"#5b5b5b",dark:"#323232",contrastText:"whitesmoke"}},typography:{fontFamily:["Arvo"].join(",")}}),U=Object(B.a)({palette:{primary:{light:"#bef67a",main:"#8bc34a",dark:"#5a9216",contrastText:"#222222"},secondary:{light:"#FFFFFF",main:"#F5F5F5",dark:"#F5F5F5",contrastText:"#222222"}},typography:{fontFamily:["Arvo"].join(",")}}),V=Object(h.a)((function(e){return{root:{height:1.2*window.innerHeight},header:{marginBottom:"1%"},search:{marginRight:"10%",marginLeft:"10%"},movieContainer:{marginLeft:"5%"},nominationContainer:{marginRight:"1%",marginLeft:"5%"},gridItems:{width:"100%"},text:{textAlign:"center"},submit:{width:"94%",margin:"3%"},results:{width:"25%",margin:"3%",borderRadius:"5px 50px 50px 5px",float:"right"},switch:{float:"right"},light:{float:"right"},dark:{float:"right",marginRight:"5%"}}})),Z=function(){var e=Object(i.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1],o=Object(i.useState)([]),s=Object(m.a)(o,2),h=s[0],p=s[1],x=Object(i.useState)(!1),g=Object(m.a)(x,2),O=g[0],f=g[1],v=Object(i.useState)(!1),y=Object(m.a)(v,2),T=y[0],N=y[1],w=Object(i.useState)(!1),k=Object(m.a)(w,2),Y=k[0],C=k[1],S=Object(i.useState)(!1),R=Object(m.a)(S,2),F=R[0],I=R[1],L=Object(i.useState)(!1),E=Object(m.a)(L,2),A=E[0],z=E[1],P=V(),B=function(e){var t=e.split("");""===e&&r([])," "!==t[t.length-1]&&fetch("https://www.omdbapi.com/?s=".concat(e,"&apikey=").concat("a77eded2")).then((function(e){return e.json()})).then((function(e){if(!e.Error){var t=[];e.Search.forEach((function(e){var n=!1;h.forEach((function(t){t.Title===e.Title&&t.Year===e.Year&&(n=!0)})),t.push({Title:e.Title,Year:e.Year,selected:n})})),r(t)}}))},X=function(){C(!0)},W=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"https://pure-everglades-87354.herokuapp.com",h.forEach(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pure-everglades-87354.herokuapp.com","/nominations"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t.Title,year:t.Year})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),localStorage.setItem("submitted","true"),N(!0),I(!0),setTimeout(X,2500);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object(c.a)(h)).splice(t,1),p(n),localStorage.clear(),n.forEach((function(e,t){localStorage.setItem("nomination-".concat(t),[e.Title,e.Year])})),(a=document.querySelector("#outlined-search")).value="",B(a.value);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(e,t){return e.substring(0,t)+"..."},$=function(e){var t=e.length,n=e.charAt(t-1);return parseInt(n)||"0"===n?e:e=e.substring(0,t-1)};return Object(i.useEffect)((function(){h.length>=5?f(!0):f(!1)}),[h]),Object(i.useEffect)((function(){!function(){var e=0,t=[];for(localStorage.getItem("submitted")&&(N(!0),C(!0));localStorage.getItem("nomination-".concat(e));){var n=localStorage.getItem("nomination-".concat(e)).split(",");t.push({Title:n[0],Year:n[1]}),e++}p(t)}()}),[]),Object(a.jsx)(J.a,{theme:A?Q:U,children:Object(a.jsxs)(u.a,{id:"App",elevation:3,className:P.root,style:{backgroundColor:A?Q.palette.secondary.dark:U.palette.secondary.main},children:[Object(a.jsx)(u.a,{elevation:3,className:P.header,style:{backgroundColor:A?Q.palette.secondary.main:U.palette.secondary.light},children:Object(a.jsx)(j.a,{variant:"h2",color:"primary",align:"center",children:"Shoppies Movie Awards"})}),Object(a.jsx)(D.a,{className:P.dark,style:{color:A?Q.palette.primary.main:Q.palette.secondary.light}}),Object(a.jsx)(b.a,{size:"small",color:"primary",checked:A,className:P.switch,onChange:function(){return z(!A)}}),Object(a.jsx)(q.a,{className:P.light,color:A?"secondary":"primary"}),Y?null:Object(a.jsx)(M,{submitted:T,setResultsPage:C,transitioning:F,classes:P,movies:n,nominations:h,fetchMovies:B,listFull:O,handleYear:$,handleNominated:function(e){var t=Object(c.a)(h);t.push(e),p(t),t.forEach((function(e,t){localStorage.setItem("nomination-".concat(t),[e.Title,e.Year])}))},handleMovieTitle:Z,handleRemoved:G,handleNominate:W}),Y?Object(a.jsx)(H,{submitted:T,nominations:h,setTransitioning:I,setResultsPage:C,handleYear:$,handleMovieTitle:Z}):null,T?Object(a.jsx)(K,{reset:function(){localStorage.clear(),C(!1),p([]),N(!1),I(!1),B("")},submitted:T}):null]})})},$=Object(B.a)({palette:{primary:{light:"#bef67a",main:"#8bc34a",dark:"#5a9216",contrastText:"#222222"},secondary:{light:"#747474",main:"#494949",dark:"#222222",contrastText:"white"}},typography:{fontFamily:["Arvo"].join(",")}});o.a.render(Object(a.jsx)(J.a,{theme:$,children:Object(a.jsx)(Z,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.35ef7d9a.chunk.js.map